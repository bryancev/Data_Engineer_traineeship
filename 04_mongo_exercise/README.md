# MongoDB User Events Archiving

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MongoDB —Ö—Ä–∞–Ω—è—Ç—Å—è —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ `user_events`. –ö–∞–∂–¥—ã–π –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –µ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è—Ö.

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ:

- –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å **–±–æ–ª–µ–µ 30 –¥–Ω–µ–π –Ω–∞–∑–∞–¥**
- –Ω–µ –ø—Ä–æ—è–≤–ª—è–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å **–ø–æ—Å–ª–µ–¥–Ω–∏–µ 14 –¥–Ω–µ–π**

–¢–∞–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:

- –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è –≤ –∞—Ä—Ö–∏–≤–Ω—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é `archived_users`
- —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ—Ç—á–µ—Ç `YYYY-MM-DD.json` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –∞—Ä—Ö–∏–≤–∞—Ü–∏–∏

---

## üß© –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞

–ö–∞–∂–¥–æ–µ —Å–æ–±—ã—Ç–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–æ–¥–µ—Ä–∂–∏—Ç:

```json
{
  "user_id": 123,
  "event_type": "purchase",
  "event_time": "2024-01-20 10:00:00",
  "user_info": {
    "email": "user1@example.com",
    "registration_date": "2023-12-01 10:00:00"
  }
}
```

---

## üìÅ –í—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è JSON-–æ—Ç—á–µ—Ç –≤ –ø–∞–ø–∫–µ `reports/`, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
{
  "date": "2025-06-25",
  "archived_users_count": 3,
  "archived_user_ids": [123, 125, 129]
}
```

–ò–º—è —Ñ–∞–π–ª–∞: `archive_2025-06-25.json`

---

## üß± –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `pymongo`
- `json`
- `datetime`
- `os`

---
